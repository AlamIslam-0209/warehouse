<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gudang C: Modular & Logika Murni</title>
    <style>
        :root {
            --bg: #121212;
            --sidebar: #1e1e1e;
            --text-main: #e0e0e0;
            --accent: #4caf50; /* Hijau Terminal */
            --code-bg: #000000;
            --file-bg: #2d2d2d;
            --highlight: #ff9800;
        }

        body {
            font-family: 'Consolas', 'Segoe UI', sans-serif;
            background: var(--bg);
            color: var(--text-main);
            margin: 0;
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        /* --- KIRI: MATERI --- */
        .left-panel {
            width: 40%;
            display: flex;
            flex-direction: column;
            border-right: 1px solid #333;
            background: var(--sidebar);
        }

        .content-scroll {
            padding: 25px;
            overflow-y: auto;
            flex-grow: 1;
        }

        h1 { color: var(--accent); font-size: 1.4rem; margin-top: 0; border-bottom: 1px dashed #444; padding-bottom: 10px; }
        .step-tag { font-size: 0.7rem; color: #888; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 5px; }
        p { line-height: 1.6; color: #ccc; font-size: 0.95rem; }

        .code-box {
            background: var(--code-bg);
            padding: 15px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            border-left: 3px solid var(--accent);
            margin: 20px 0;
            white-space: pre-wrap;
            overflow-x: auto;
            color: #d4d4d4;
        }

        /* Syntax Highlighting Manual */
        .kwd { color: #569cd6; font-weight: bold; } /* Keyword */
        .fun { color: #dcdcaa; } /* Function */
        .str { color: #ce9178; } /* String */
        .cmt { color: #6a9955; font-style: italic; } /* Comment */
        .typ { color: #4ec9b0; } /* Type */

        .controls {
            padding: 15px;
            border-top: 1px solid #333;
            display: flex;
            gap: 10px;
            background: #1a1a1a;
        }

        button {
            flex: 1; padding: 12px; border: none; border-radius: 4px;
            font-weight: bold; cursor: pointer; transition: 0.2s; font-family: 'Consolas', sans-serif;
        }
        .btn-prev { background: #333; color: white; }
        .btn-next { background: var(--accent); color: black; }
        .btn-next:hover { background: #66bb6a; }

        /* --- KANAN: VISUALISASI --- */
        .right-panel {
            width: 60%;
            position: relative;
            background: #0a0a0a;
            display: flex;
            flex-direction: column;
        }

        /* 1. VISUAL STAGE (Untuk Animasi String/Modular) */
        .visual-stage {
            flex-grow: 1;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            background-image: linear-gradient(#1a1a1a 1px, transparent 1px), linear-gradient(90deg, #1a1a1a 1px, transparent 1px);
            background-size: 20px 20px;
        }

        /* 2. TERMINAL (Output Program) */
        .terminal-box {
            height: 35%;
            background: #000;
            border-top: 2px solid #333;
            padding: 20px;
            font-family: 'Courier New', Courier, monospace;
            font-size: 1rem;
            color: var(--accent);
            overflow-y: auto;
            box-shadow: 0 -5px 20px rgba(0,0,0,0.5);
        }

        /* --- KOMPONEN ANIMASI --- */
        
        /* String Visualization */
        .char-box {
            width: 40px; height: 50px;
            border: 1px solid #555;
            display: inline-flex;
            align-items: center; justify-content: center;
            margin: 2px;
            font-weight: bold;
            color: white;
            position: relative;
            background: #222;
        }
        .char-index {
            position: absolute; bottom: -15px; font-size: 0.7rem; color: #666;
        }
        .arrow-cursor {
            position: absolute; top: -30px; font-size: 20px; color: yellow;
            transition: left 0.3s ease;
        }

        /* Modular Visualization */
        .file-card {
            width: 140px; height: 160px;
            background: var(--file-bg);
            border: 1px solid #555;
            border-radius: 8px;
            position: absolute;
            display: flex;
            flex-direction: column;
            box-shadow: 0 10px 20px rgba(0,0,0,0.5);
            transition: all 0.5s;
        }
        .file-header {
            background: #333; padding: 5px; font-size: 0.8rem; text-align: center;
            border-bottom: 1px solid #555; font-weight: bold;
        }
        .file-body { padding: 10px; font-size: 0.7rem; color: #aaa; overflow: hidden; }
        
        /* Connection Lines (SVG) */
        .connections {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none;
        }

    </style>
</head>
<body>

    <div class="left-panel">
        <div class="content-scroll">
            <div class="step-tag">Langkah <span id="step-num">1</span> / 7</div>
            <h1 id="title">Judul</h1>
            <div id="desc">Deskripsi...</div>
            <div id="code-area" class="code-box"></div>
        </div>
        <div class="controls">
            <button class="btn-prev" onclick="changeStep(-1)">Kembali</button>
            <button class="btn-next" onclick="changeStep(1)">Lanjut</button>
        </div>
    </div>

    <div class="right-panel">
        <div class="visual-stage" id="visual-stage">
            </div>
        <div class="terminal-box" id="terminal">
            <div id="term-text">>_</div>
        </div>
    </div>

<script>
    // --- DATABASE KURIKULUM ---
    const steps = [
        {
            title: "1. Tantangan: Dilarang Pakai Bantuan!",
            desc: "Untuk melatih logika, kita <b>DILARANG</b> menggunakan `string.h` (strcpy, strcmp). <br><br>Kita juga harus memecah program menjadi beberapa file (<b>Modular</b>) agar rapi. <br>Mari kita lihat target tampilan program akhirnya di bawah.",
            code: `<span class="cmt">// Target Output Program:</span>
Hai, aku asisten pintar Gudang mu!
mau apa?
1. Cari Barang
2. Tampilkan Barang
3. Update Barang
...`,
            setup: () => {
                setVisual(`<div style="text-align:center; color:#888;">Lihat Terminal di Bawah üëá</div>`);
                setTerminal(`Hai, aku asisten pintar Gudang mu!
mau apa?
1. Cari Barang
2. Tampilkan Barang
3. Update Barang
4. Tambah Barang
5. Hapus Barang
6. Keluar
> _`);
            }
        },
        {
            title: "2. Logika: Salin String Manual",
            desc: "Karena tidak boleh pakai `strcpy`, kita harus memindahkan huruf satu per satu dari asal ke tujuan menggunakan <b>Looping</b> sampai ketemu karakter null (`\\0`).",
            code: `<span class="kwd">void</span> salinString(<span class="kwd">char</span> *tujuan, <span class="kwd">char</span> *asal) {
    <span class="kwd">int</span> i = 0;
    <span class="cmt">// Loop selama belum habis</span>
    <span class="kwd">while</span> (asal[i] != <span class="str">'\\0'</span>) {
        tujuan[i] = asal[i]; <span class="cmt">// Salin huruf</span>
        i++;
    }
    tujuan[i] = <span class="str">'\\0'</span>; <span class="cmt">// Tutup string</span>
}`,
            setup: () => {
                // Visualisasi Copy Manual
                let html = `
                <div style="display:flex; flex-direction:column; gap:20px; align-items:center;">
                    <div>
                        <div style="font-size:0.8rem; color:#888; margin-bottom:5px;">Asal (User Input)</div>
                        <div style="display:flex;">
                            ${createCharBox('B',0)}${createCharBox('u',1)}${createCharBox('k',2)}${createCharBox('u',3)}${createCharBox('\\0',4)}
                        </div>
                    </div>
                    <div style="font-size:2rem; color:yellow;">‚¨áÔ∏è</div>
                    <div>
                        <div style="font-size:0.8rem; color:#888; margin-bottom:5px;">Tujuan (Struct)</div>
                        <div style="display:flex;" id="dest-container">
                            ${createCharBox('',0)}${createCharBox('',1)}${createCharBox('',2)}${createCharBox('',3)}${createCharBox('',4)}
                        </div>
                    </div>
                </div>`;
                setVisual(html);
                setTerminal("> Sedang menyalin 'Buku' secara manual...");
                
                // Animasi Copy
                setTimeout(() => updateDest(0, 'B'), 500);
                setTimeout(() => updateDest(1, 'u'), 1000);
                setTimeout(() => updateDest(2, 'k'), 1500);
                setTimeout(() => updateDest(3, 'u'), 2000);
                setTimeout(() => {
                    updateDest(4, '\\0'); 
                    setTerminal("> Selesai! String ditutup dengan NULL.");
                }, 2500);
            }
        },
        {
            title: "3. Logika: Bandingkan String",
            desc: "Tanpa `strcmp`, bagaimana cara tahu kalau user mengetik 'Buku'? <br>Kita cek huruf pertama, kalau sama cek huruf kedua, dan seterusnya.",
            code: `<span class="kwd">int</span> cekSama(<span class="kwd">char</span> *a, <span class="kwd">char</span> *b) {
    <span class="kwd">int</span> i = 0;
    <span class="kwd">while</span> (a[i] != <span class="str">'\\0'</span> && b[i] != <span class="str">'\\0'</span>) {
        <span class="cmt">// Kalau beda, langsung GAGAL</span>
        <span class="kwd">if</span> (a[i] != b[i]) <span class="kwd">return</span> 0;
        i++;
    }
    <span class="cmt">// Kalau panjangnya beda, juga GAGAL</span>
    <span class="kwd">if</span> (a[i] != b[i]) <span class="kwd">return</span> 0;
    
    <span class="kwd">return</span> 1; <span class="cmt">// BERHASIL (Sama Persis)</span>
}`,
            setup: () => {
                setVisual(`
                <div style="display:flex; flex-direction:column; align-items:center; gap:10px;">
                    <div style="display:flex;">${createCharBox('T',0)}${createCharBox('e',1)}${createCharBox('s',2)}</div>
                    <div style="font-size:1.5rem">vs</div>
                    <div style="display:flex;">${createCharBox('T',0)}${createCharBox('e',1)}${createCharBox('h',2)}</div>
                    <div id="cmp-result" style="margin-top:20px; font-weight:bold; font-size:1.2rem;">Checking...</div>
                </div>
                `);
                
                setTimeout(() => document.getElementById('cmp-result').innerText = "Index 0: T == T (OK)", 500);
                setTimeout(() => document.getElementById('cmp-result').innerText = "Index 1: e == e (OK)", 1500);
                setTimeout(() => {
                    document.getElementById('cmp-result').innerHTML = "<span style='color:red'>Index 2: s != h (BEDA!)</span>";
                    document.getElementById('cmp-result').style.color = "red";
                }, 2500);
                setTerminal("> Membandingkan 'Tes' dan 'Teh'...");
            }
        },
        {
            title: "4. Modular: Struktur File",
            desc: "Sekarang kita pisah kodenya. Jangan tumpuk semua di satu file! <br><br><b>1. header.h</b>: Isinya Struct & Deklarasi Fungsi.<br><b>2. logika.c</b>: Isinya codingan fungsi manual tadi.<br><b>3. main.c</b>: Isinya Menu & `main()`.",
            code: `<span class="cmt">// File Layout Project Kita:</span>
project_gudang/
‚îú‚îÄ‚îÄ header.h    <span class="cmt">// (Kamus Data)</span>
‚îú‚îÄ‚îÄ logika.c    <span class="cmt">// (Otak/Mesin)</span>
‚îî‚îÄ‚îÄ main.c      <span class="cmt">// (Wajah/Interface)</span>`,
            setup: () => {
                setVisual(`
                    <div class="file-card" style="left:10%; top:20%;">
                        <div class="file-header">header.h</div>
                        <div class="file-body">
                            typedef struct...<br>
                            void salinString();<br>
                            void tambah();
                        </div>
                    </div>
                    <div class="file-card" style="left:40%; top:20%;">
                        <div class="file-header">logika.c</div>
                        <div class="file-body">
                            #include "header.h"<br><br>
                            void salinString(){..}<br>
                            void tambah(){..}
                        </div>
                    </div>
                    <div class="file-card" style="left:70%; top:20%; border-color:#4caf50">
                        <div class="file-header">main.c</div>
                        <div class="file-body">
                            #include "header.h"<br><br>
                            int main() {<br>
                              menu();<br>
                            }
                        </div>
                    </div>
                `);
                setTerminal("> Files created. Struktur project rapi.");
            }
        },
        {
            title: "5. Isi File: header.h",
            desc: "File `.h` itu seperti <b>Daftar Isi</b>. Kita cuma kasih tahu: 'Hei, nanti ada fungsi namanya <i>salinString</i> lho', tapi codingannya bukan di sini.",
            code: `<span class="cmt">// --- header.h ---</span>
<span class="kwd">#ifndef</span> GUDANG_H
<span class="kwd">#define</span> GUDANG_H

<span class="kwd">typedef struct</span> {
    <span class="kwd">char</span> nama[50];
    <span class="kwd">int</span> stok;
} <span class="typ">Barang</span>;

<span class="cmt">// Deklarasi Fungsi (Janji)</span>
<span class="kwd">void</span> salinString(<span class="kwd">char</span> *t, <span class="kwd">char</span> *a);
<span class="kwd">void</span> tambahBarang();

<span class="kwd">#endif</span>`,
            setup: () => {
                setVisual(`<div style="display:flex; justify-content:center; align-items:center; height:100%; color:#aaa; font-size:1.5rem;">Definisi Struct & Prototipe</div>`);
                setTerminal("> header.h: Disimpan.");
            }
        },
        {
            title: "6. Isi File: logika.c",
            desc: "File `.c` ini tempat kita kerja keras. Di sinilah logika manual tadi (looping salin, looping cek) ditulis.",
            code: `<span class="cmt">// --- logika.c ---</span>
<span class="kwd">#include</span> "header.h"
<span class="kwd">#include</span> &lt;stdio.h&gt;

<span class="kwd">void</span> salinString(<span class="kwd">char</span> *t, <span class="kwd">char</span> *a) {
    <span class="kwd">int</span> i=0;
    <span class="kwd">while</span>(a[i]) { t[i]=a[i]; i++; }
    t[i]=0;
}

<span class="kwd">void</span> tambahBarang() {
    <span class="cmt">// Pakai salinString di sini</span>
    <span class="cmt">// Jangan pakai strcpy!</span>
}`,
            setup: () => {
                setVisual(`<div style="display:flex; justify-content:center; align-items:center; height:100%; color:#aaa; font-size:1.5rem;">Implementasi Fungsi Manual</div>`);
                setTerminal("> logika.c: Disimpan.");
            }
        },
        {
            title: "7. Isi File: main.c (Interface)",
            desc: "Terakhir, `main.c` cuma mengurus tampilan menu. Dia memanggil fungsi yang ada di `logika.c`.",
            code: `<span class="cmt">// --- main.c ---</span>
<span class="kwd">#include</span> <span class="str">"header.h"</span>
<span class="kwd">#include</span> &lt;stdio.h&gt;

<span class="kwd">int</span> main() {
    <span class="kwd">int</span> pilihan;
    printf(<span class="str">"Hai, aku asisten pintar Gudang mu!\n"</span>);
    printf(<span class="str">"mau apa?\n"</span>);
    printf(<span class="str">"1. Cari Barang\n"</span>);
    <span class="cmt">// ... print menu lain ...</span>
    
    scanf(<span class="str">"%d"</span>, &pilihan);
    <span class="kwd">if</span> (pilihan == 4) tambahBarang();
    
    <span class="kwd">return</span> 0;
}`,
            setup: () => {
                 setVisual(`<div style="text-align:center;">
                    <h2 style="color:white;">COMPILE & RUN</h2>
                    <p style="color:#888;">gcc main.c logika.c -o gudang</p>
                    <div style="font-size:3rem; margin-top:20px;">üöÄ</div>
                 </div>`);
                 setTerminal("Compiling: main.c + logika.c -> gudang.exe\nSuccess!\nRunning...");
            }
        }
    ];

    // --- LOGIC ENGINE ---
    let currIdx = 0;

    function render() {
        const step = steps[currIdx];
        document.getElementById('step-num').innerText = currIdx + 1;
        document.getElementById('title').innerText = step.title;
        document.getElementById('desc').innerHTML = step.desc;
        document.getElementById('code-area').innerHTML = step.code;
        
        step.setup();
    }

    function setVisual(html) {
        document.getElementById('visual-stage').innerHTML = html;
    }

    function setTerminal(text) {
        document.getElementById('term-text').innerText = text;
    }

    function changeStep(n) {
        if (currIdx + n >= 0 && currIdx + n < steps.length) {
            currIdx += n;
            render();
        }
    }

    // Helpers
    function createCharBox(char, idx) {
        return `<div class="char-box">${char}<div class="char-index">${idx}</div></div>`;
    }

    function updateDest(idx, char) {
        const boxes = document.getElementById('dest-container').children;
        if(boxes[idx]) {
            boxes[idx].childNodes[0].nodeValue = char;
            boxes[idx].style.borderColor = "#4caf50";
            boxes[idx].style.color = "#4caf50";
        }
    }

    // Init
    render();

</script>
</body>
</html>